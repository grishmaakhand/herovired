<!DOCTYPE html>
  <html lang="en">
    <head>
      <meta charset="UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Myorg</title>
      <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
        crossorigin="anonymous"
      />

      <link rel="stylesheet" href="style.css" />
      <script src="script.js"></script>
    </head>
    <body>
      <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">
            <img class="logo" src="img/logo.png" />
          </a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNavAltMarkup"
            aria-controls="navbarNavAltMarkup"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav textnav">
              <a href="#" class="nav-link active" aria-current="page"
                >Booking Appointment</a
              >
              <a href="" class="nav-link">Consult Online</a>
              <a href="" class="nav-link">Buy Medicine</a>
              <a href="" class="nav-link">Find Hospital</a>
              <a href="doctorlist.html" class="nav-link">Doctor List</a>
              <a href="" class="nav-link">Contact us</a>
            </div>
          </div>
        </div>
      </nav>
      <div class="findsection">
        <h1>Find Hospital Enter Pin code</h1>
        <div class="container-fluid">
          <form class="d-flex search" role="search">
            <input
              class="form-control me-2"
              type="search"
              placeholder="Search"
              aria-label="Search"
              id="pincode"
              value=""
            />
            <button class="btn btn-outline-success" type="submit" id="search">
              Search
            </button>
            <table>
              <thead>
                <tr>
                  <th>Hospital Name</th>
                  <th>zip code</th>
                  <th>state</th>
                  <th>city</th>
                </tr>
              </thead>
              <tbody id="tbody"></tbody>
            </table>
          </form>
        </div>
      </div>

      <script>
        const search = document.getElementById("search");

        search.addEventListener("click", (event) => {
          event.preventDefault()
          fetch("data2.json")
            .then((data) => data.json())
            .then((data) => {
              console.log(data);

              const input = document.getElementById("pincode");
              const hospitallist = document.getElementById("tbody");

              const pcode = data.filter((ele) => {
                return ele.zip_code == (input.value);
              });

              hospitallist.innerHTML = "";
              console.log(pcode);
              pcode.forEach((e) => {
                  return (hospitallist.innerHTML += `
                <tr>
                <td>${e.name}</td>
                <td>${e.zip_code}</td>
                <td>${e.city}</td>
                </tr>`);
              });
            })
            .catch(() => {
              console.error("not cennected");
            });
        });
      </script>
      <script
        src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
        crossorigin="anonymous"
      ></script>
      <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"
        integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD"
        crossorigin="anonymous"
      ></script>
    </body>
  </html>
</html>
